<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>JPhotoTagger Controller</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
      Controllers are responsive to user input (key strokes,
      mouse clicks). This page describes how to use them and discusses two
      alternative concepts.

      <h2>How a controller works</h2>

      A controller adds itself to an action source, such as a menu item or a
      button. If the action source performed an action, the controller verifies,
      whether the action is valid and does something.

      <p>The action code should not be implemented in the controller itself so that it
      can be used in other contexts.

      <h2>How to write a controller</h2>

      <ul>
          <li>Create a subclass of {@link org.jphototagger.program.controller.Controller}</li>
          <li>Connect to the event source objects via <code>listenToActionsOf()</code>
              and/or <code>listenToKeyEventsOf()</code>.
          </li>
          <li>Override <code>myAction()</code> and <code>myKey()</code>, where You
              define, whether a key event or action event in the event source
              triggers the action. E.g. if Your controller responses to the
              <kbd>Del</kbd> key, the code of <code>myKey()</code> may be:
              <code>return keyEvent.getKeyCode() == KeyEvent.VK_DELETE</code>.
          </li>
          <li>Override one or both <code>action()</code> methods, which will be
              called, if <code>myAction()</code> or <code>myKey()</code> are
              returning true.
          </li>
          <li>Create <em>one</em> instance of the controller class whithin
              {@link org.jphototagger.program.factory.ControllerFactory} in it's
              <code>init()</code> method.
          </li>
          <li>If the controller listens to a popup menu of a <code>JTree</code>
              of <code>JList</code>, the best way is: Let extend the popup menu
              {@link org.jphototagger.lib.event.listener.PopupMenuTree} or
              {@link org.jphototagger.lib.event.listener.PopupMenuList} and
              let the controller implement
              {@link org.jphototagger.lib.event.listener.PopupMenuTree.Listener}
              or
              {@link org.jphototagger.lib.event.listener.PopupMenuList.Listener}
              instead of overriding <code>myAction()</code>.
          </li>
      </ul>

      <h2>How to get a controller</h2>

      <p>The controller factory ({@link org.jphototagger.program.factory.ControllerFactory})
          has the method <code>getControllers()</code> with the controller's
          static class object as key, which returns all controller instances of
          that class. <code>getController()</code> returns the first added
          controller - in most cases only one controller was added so that this
          maybe the preferred method.
      </p>

  </body>
</html>
